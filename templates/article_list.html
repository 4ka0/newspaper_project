{% extends 'base.html' %}

{% block title %}Articles{% endblock title %}

{% block content %}

    {% for article in object_list %}
        <div class="card">

            <!-- Header -->
            <div class="card-header bg-light" >
                <h5><a href="{% url 'article_detail' article.pk %}">{{ article.title }}</a></h5>
                <span class="text-muted">{{ article.author }} &middot; {{ article.date }}</span>
            </div>

            <!-- Body -->
            <div class="card-body">
                {{ article.body|slice:":400" }}...
            </div>

            <!-- Footer -->
            <!-- Show number of comments -->
            <div class="card-footer text-muted">
                {% if article.comments.count == 1 %}
                    {{ article.comments.count }} comment
                {% else %}
                    {{ article.comments.count }} comments
                {% endif %}
            </div>

        </div>
        <br />
    {% endfor %}

{% endblock content %}