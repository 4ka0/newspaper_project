{% extends 'base.html' %}

{% block content %}

    <div class="article-entry">
        <h2>{{ object.title }}</h2>
        <p class="text-muted">{{ object.author }} &middot; {{ object.date }}</p>
        <p>{{ object.body|linebreaksbr }}</p>

        <!-- Show edit/delete links if user is the author -->
        {% if user == article.author %}
            <a href="{% url 'article_edit' article.pk %}" class="btn btn-outline-info mr-2 mb-3">Edit article</a>
            <a href="{% url 'article_delete' article.pk %}" class="btn btn-outline-danger mb-3">Delete article</a>
        {% endif %}

        <!-- Number of comments -->
        <p><strong>{{ article.comments.count }} comment{{ article.comments.count|pluralize }}</strong></p>

        <!-- Comments themselves -->
        {% for comment in article.comments.all %}
            <p class="text-muted">{{ comment.author }} &middot; {{ comment }}</p>
        {% endfor %}

        <!-- Link to article list view -->
        <p><a href="{% url 'article_list' %}" class="btn btn-outline-primary">Back to all articles</a></p>

    </div>

{% endblock content %}